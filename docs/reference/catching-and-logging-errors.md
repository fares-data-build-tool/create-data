# Catching & logging errors

- As far as ‘pages’ are concerned, our standard approach within the ‘getServerSideProps’ functions where we are being passed cookies from other pages, is to check for those using a simple ‘if’ statement pretty much straight away. If the cookie in question is not found, we throw an error with a clear and meaningful message. The idea is here is to ‘fail fast’ . Other checks, for example that the cookies we were expecting hold the data we need, should follow the same approach (an example of this exists in priceEntry.tsx where we check that the Stage Names cookie holds a list of stage names).
- With our ‘api’ files, our approach is to always wrap the entire export default/handler function in ‘try’/'catch' blocks with the ‘catch’ block containing a descriptive message that is then passed along with the response and error objects to our ‘redirectToError’ function. This , in turn, outputs the message and the stack trace to the console, as well as redirecting the user to the ‘error’ page.
- As far as helper functions are concerned (i.e. those found, for example, in dynamodb.ts (under ‘data') or index.ts (under ‘apiUtils’)), our general approach is to let errors that occur when these are called ‘bubble up’ so that they are caught by the ‘try/catch’ in the parent. There can, however, be exceptions to this rule, if it is felt that there are specific contextual errors which are worth catching at the helper function level (there are examples of these in dynamodb.ts).
